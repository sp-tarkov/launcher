<MudContainer Class="d-flex flex-column px-0 mb-4">
    <MudGrid>
        <MudItem sm="6">
            <MudTextField @bind-Value="Search" Label="Search" Variant="Variant.Outlined" Adornment="Adornment.End"
                          AdornmentIcon="@Icons.Material.Filled.Search"  Clearable="true"
                          DebounceInterval="500" OnDebounceIntervalElapsed="SearchFunc" />
        </MudItem>
        <MudItem sm="2">
            <MudSelect @bind-Value="SortValue" Label="Sort" Variant="Variant.Outlined" Dense="true"
                       AdornmentIcon="@Icons.Material.Filled.Sort" >
                <MudSelectItem Value="@("-downloads")">Most Downloaded</MudSelectItem>
                <MudSelectItem Value="@("-updated_at")">Recently Updated</MudSelectItem>
                <MudSelectItem Value="@("-created_at")">Newest</MudSelectItem>
            </MudSelect>
        </MudItem>
        <MudItem sm="2">
            <MudSelect @bind-Value="FilterValue" Label="Featured" Variant="Variant.Outlined" Dense="true"
                       AdornmentIcon="@Icons.Material.Filled.FilterAlt" >
                <MudSelectItem Value="@("Include")">Include</MudSelectItem>
                <MudSelectItem Value="@("Exclude")">Exclude</MudSelectItem>
                <MudSelectItem Value="@("Only")">Only</MudSelectItem>
            </MudSelect>
        </MudItem>
        <MudItem sm="2">
            <MudSelect @bind-Value="AiValue" Label="AI Content" Variant="Variant.Outlined" Dense="true"
                       AdornmentIcon="@Icons.Material.Filled.FilterAlt" >
                <MudSelectItem Value="@("Exclude")">Exclude</MudSelectItem>
                <MudSelectItem Value="@("Include")">Include</MudSelectItem>
                <MudSelectItem Value="@("Only")">Only</MudSelectItem>
            </MudSelect>
        </MudItem>
    </MudGrid>

</MudContainer>

@code {
#pragma warning disable BL0007
    [Parameter]
    public string Search
    {
        get => _search;
        set
        {
            if (_search == value)
            {
                return;
            }

            _search = value;
            SearchChanged.InvokeAsync(_search);
        }
    }
    private string _search = "";
    [Parameter]
    public EventCallback<string> SearchChanged { get; set; }

    [Parameter]
    public string SortValue
    {
        get => _sortValue;
        set
        {
            if (_sortValue == value)
            {
                return;
            }

            _sortValue = value;
            SortValueChanged.InvokeAsync(_sortValue);
        }
    }
    private string _sortValue = "-downloads";
    [Parameter]
    public EventCallback<string> SortValueChanged { get; set; }

    [Parameter]
    public string FilterValue
    {
        get => _filterValue;
        set
        {
            if (_filterValue == value)
            {
                return;
            }

            _filterValue = value;
            FilterValueChanged.InvokeAsync(_filterValue);
        }
    }
    private string _filterValue = "Include";
    [Parameter]
    public EventCallback<string> FilterValueChanged { get; set; }

    [Parameter]
    public string AiValue
    {
        get => _aiValue;
        set
        {
            if (_aiValue == value)
            {
                return;
            }

            _aiValue = value;
            AiValueChanged.InvokeAsync(_aiValue);
        }
    }
    private string _aiValue = "Exclude";
    [Parameter]
    public EventCallback<string> AiValueChanged { get; set; }

    [Parameter]
    public Func<Task> SearchFunc { get; set; }
}
